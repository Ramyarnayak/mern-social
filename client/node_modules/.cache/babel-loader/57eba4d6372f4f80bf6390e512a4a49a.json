{"ast":null,"code":"var _jsxFileName = \"/Users/ramya/Desktop/mern-social/client/src/pages/AddFriends/AddFriends.js\",\n    _s = $RefreshSig$();\n\nimport \"./../../components/rightbar/rightbar.css\";\nimport { Users } from \"../../dummyData\";\nimport Online from \"../../components/online/Online\";\nimport { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { Add, Remove } from \"@material-ui/icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AddFriends({\n  user,\n  allUsers,\n  setAllUsers\n}) {\n  _s();\n\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [friends, setFriends] = useState([]);\n  const {\n    user: currentUser,\n    dispatch\n  } = useContext(AuthContext);\n  const [followed, setFollowed] = useState(currentUser.followings.includes(user === null || user === void 0 ? void 0 : user.id));\n  useEffect(() => {\n    console.log(\"hey\");\n    getFriends();\n  }, [user]);\n\n  const getFriends = async () => {\n    try {\n      // alert(user._id)\n      const friendList = await axios.get(\"/users/friends/\" + user._id);\n      setFriends(friendList.data);\n      console.log(friendList.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const addFriend = async friend => {\n    try {\n      await axios.put(`/users/${user._id}/follow`, {\n        userId: currentUser._id,\n        friendId: friend._id\n      });\n      setAllUsers(allUsers.filter(p => p !== friend));\n      getFriends();\n    } catch (err) {\n      alert(err);\n    }\n  };\n\n  const handleClick = async () => {\n    try {\n      if (followed) {\n        await axios.put(`/users/${user._id}/unfollow`, {\n          userId: currentUser._id\n        });\n        dispatch({\n          type: \"UNFOLLOW\",\n          payload: user._id\n        });\n      } else {\n        await axios.put(`/users/${user._id}/follow`, {\n          userId: currentUser._id\n        });\n        dispatch({\n          type: \"FOLLOW\",\n          payload: user._id\n        });\n      }\n\n      setFollowed(!followed);\n    } catch (err) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"birthdayContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"birthdayImg\",\n        src: \"assets/gift.png\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"birthdayText\",\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Pola Foster\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), \" and \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"3 other friends\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 36\n        }, this), \" have a birhday today.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"rightbarAd\",\n      src: \"assets/ad.png\",\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"rightbarTitle\",\n      children: \"Online Friends\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"rightbarFriendList\",\n      children: Users.map(u => /*#__PURE__*/_jsxDEV(Online, {\n        user: u\n      }, u.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AddFriends, \"bVRD/gSSpgArizbVficU0IAb5EE=\");\n\n_c = AddFriends;\n;\n\nconst ProfileRightbar = () => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [user.username !== currentUser.username && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"rightbarFollowButton\",\n      onClick: handleClick,\n      children: [followed ? \"Unfollow\" : \"Follow\", followed ? /*#__PURE__*/_jsxDEV(Remove, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 38\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"rightbarTitle\",\n      children: \"Add friends\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 2\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rightbarFollowings\",\n      children: allUsers && allUsers.map(friend => friend.username != user.username ?\n      /*#__PURE__*/\n      // <Link\n      //   to={\"/profile/\" + friend.username}\n      //   style={{ textDecoration: \"none\" }}\n      // >\n      _jsxDEV(\"div\", {\n        className: \"rightbarFollowing\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: friend.profilePicture ? PF + friend.profilePicture : PF + \"person/noAvatar.png\",\n          alt: \"\",\n          className: \"rightbarFollowingImg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rightbarFollowingName\",\n          children: friend.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"rightbarFollowButton\",\n          onClick: () => {\n            addFriend(friend);\n          },\n          children: [\"Add Friend\", /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 20\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }, this) // </Link>\n      : null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"rightbarTitle\",\n      children: \"User information\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rightbarInfo\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rightbarInfoItem\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rightbarInfoKey\",\n          children: \"City:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rightbarInfoValue\",\n          children: user.city\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rightbarInfoItem\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rightbarInfoKey\",\n          children: \"From:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rightbarInfoValue\",\n          children: user.from\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rightbarInfoItem\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rightbarInfoKey\",\n          children: \"Desc:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rightbarInfoValue\",\n          children: user.desc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rightbarInfoItem\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rightbarInfoKey\",\n          children: \"Relationship:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rightbarInfoValue\",\n          children: user.relationship\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rightbarInfoValue\",\n          children: user.relationship === 1 ? \"Single\" : user.relationship === 1 ? \"Married\" : \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"rightbarTitle\",\n      children: \"User friends\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rightbarFollowings\",\n      children: friends.map(friend => /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/profile/\" + friend.username,\n        style: {\n          textDecoration: \"none\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rightbarFollowing\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: friend.profilePicture ? PF + friend.profilePicture : PF + \"person/noAvatar.png\",\n            alt: \"\",\n            className: \"rightbarFollowingImg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"rightbarFollowingName\",\n            children: friend.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_c2 = ProfileRightbar;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AddFriends\");\n$RefreshReg$(_c2, \"ProfileRightbar\");","map":{"version":3,"sources":["/Users/ramya/Desktop/mern-social/client/src/pages/AddFriends/AddFriends.js"],"names":["Users","Online","useContext","useEffect","useState","axios","Link","AuthContext","Add","Remove","AddFriends","user","allUsers","setAllUsers","PF","process","env","REACT_APP_PUBLIC_FOLDER","friends","setFriends","currentUser","dispatch","followed","setFollowed","followings","includes","id","console","log","getFriends","friendList","get","_id","data","err","addFriend","friend","put","userId","friendId","filter","p","alert","handleClick","type","payload","map","u","ProfileRightbar","username","profilePicture","city","from","desc","relationship","textDecoration"],"mappings":"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","sourcesContent":["import \"./../../components/rightbar/rightbar.css\";\nimport { Users } from \"../../dummyData\";\nimport Online from \"../../components/online/Online\";\nimport { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { Add, Remove } from \"@material-ui/icons\";\n\nexport default function AddFriends({ user, allUsers, setAllUsers }) {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [friends, setFriends] = useState([]);\n  const { user: currentUser, dispatch } = useContext(AuthContext);\n  const [followed, setFollowed] = useState(\n    currentUser.followings.includes(user?.id)\n  );\n\n  useEffect(() => {\n    console.log(\"hey\")\n   getFriends();\n  }, [user]);\n\n    const getFriends = async () => {\n      try {\n        // alert(user._id)\n        const friendList = await axios.get(\"/users/friends/\" + user._id);\n        setFriends(friendList.data);\n        console.log(friendList.data)\n\n      } catch (err) {\n\n        console.log(err);\n      }\n    };\n  \n\nconst addFriend = async (friend) =>{\n  try {\n    await axios.put(`/users/${user._id}/follow`, {\n      userId: currentUser._id,\n      friendId: friend._id\n    });\n    setAllUsers(allUsers.filter((p)=> (p!==friend)))\n    getFriends();\n  } catch (err) {\n    alert(err)\n  }\n}\n  const handleClick = async () => {\n    try {\n      if (followed) {\n        await axios.put(`/users/${user._id}/unfollow`, {\n          userId: currentUser._id,\n        });\n        dispatch({ type: \"UNFOLLOW\", payload: user._id });\n      } else {\n        await axios.put(`/users/${user._id}/follow`, {\n          userId: currentUser._id,\n        });\n        dispatch({ type: \"FOLLOW\", payload: user._id });\n      }\n      setFollowed(!followed);\n    } catch (err) {\n    }\n  };\n\n \n    return (\n      <>\n        <div className=\"birthdayContainer\">\n          <img className=\"birthdayImg\" src=\"assets/gift.png\" alt=\"\" />\n          <span className=\"birthdayText\">\n            <b>Pola Foster</b> and <b>3 other friends</b> have a birhday today.\n          </span>\n        </div>\n        <img className=\"rightbarAd\" src=\"assets/ad.png\" alt=\"\" />\n        <h4 className=\"rightbarTitle\">Online Friends</h4>\n        <ul className=\"rightbarFriendList\">\n          {Users.map((u) => (\n            <Online key={u.id} user={u} />\n          ))}\n        </ul>\n      </>\n    );\n  };\n\n  const ProfileRightbar = () => {\n    return (\n      <>\n        {user.username !== currentUser.username && (\n          <button className=\"rightbarFollowButton\" onClick={handleClick}>\n            {followed ? \"Unfollow\" : \"Follow\"}\n            {followed ? <Remove /> : <Add />}\n          </button>\n        )}\n <h4 className=\"rightbarTitle\">Add friends</h4>\n\n\n<div className=\"rightbarFollowings\">\n  {allUsers && allUsers.map((friend) => (\n  (friend.username != user.username) ? (\n    // <Link\n    //   to={\"/profile/\" + friend.username}\n    //   style={{ textDecoration: \"none\" }}\n    // >\n      <div className=\"rightbarFollowing\">\n        <img\n          src={\n            friend.profilePicture\n              ? PF + friend.profilePicture\n              : PF + \"person/noAvatar.png\"\n          }\n          alt=\"\"\n          className=\"rightbarFollowingImg\"\n        />\n        <span className=\"rightbarFollowingName\">{friend.username}</span>\n\n        <button className=\"rightbarFollowButton\" onClick={()=>{addFriend(friend)}}>\n         Add Friend<Add />\n          </button>\n      </div>\n    // </Link>\n  ): null ))}\n</div>\n\n\n        <h4 className=\"rightbarTitle\">User information</h4>\n        <div className=\"rightbarInfo\">\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">City:</span>\n            <span className=\"rightbarInfoValue\">{user.city}</span>\n          </div>\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">From:</span>\n            <span className=\"rightbarInfoValue\">{user.from}</span>\n          </div>\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">Desc:</span>\n            <span className=\"rightbarInfoValue\">{user.desc}</span>\n          </div>\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">Relationship:</span>\n            <span className=\"rightbarInfoValue\">{user.relationship}</span>\n            <span className=\"rightbarInfoValue\">\n              {user.relationship === 1\n                ? \"Single\"\n                : user.relationship === 1\n                ? \"Married\"\n                : \"-\"}\n            </span>\n          </div>\n        </div>\n        <h4 className=\"rightbarTitle\">User friends</h4>\n\n\n        <div className=\"rightbarFollowings\">\n          {friends.map((friend) => (\n            <Link\n              to={\"/profile/\" + friend.username}\n              style={{ textDecoration: \"none\" }}\n            >\n              <div className=\"rightbarFollowing\">\n                <img\n                  src={\n                    friend.profilePicture\n                      ? PF + friend.profilePicture\n                      : PF + \"person/noAvatar.png\"\n                  }\n                  alt=\"\"\n                  className=\"rightbarFollowingImg\"\n                />\n                <span className=\"rightbarFollowingName\">{friend.username}</span>\n              </div>\n            </Link>\n          ))}\n        </div>\n      </>\n    );\n  };\n\n"]},"metadata":{},"sourceType":"module"}